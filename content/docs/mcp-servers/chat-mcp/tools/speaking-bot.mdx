This section covers the tools available for managing AI speaking bots in meetings, including joining and leaving meetings with voice capabilities.

## Available Personas

The speaking bot can adopt various personas to match different meeting contexts. Here are the available personas:

<Accordions type="single">
  <Accordion title="View All Available Personas">
    <ul>
      <li>1940s Noir Detective</li>
      <li>Academic Warlord</li>
      <li>Ancient Alien Theorist</li>
      <li>Ancient Roman General</li>
      <li>Arctic Prospector</li>
      <li>Artisan Magnate</li>
      <li>Astral Plane Uber Driver</li>
      <li>BaaS Onboarder</li>
      <li>Bitcoin Maximalist</li>
      <li>Buddhist Monk</li>
      <li>Climate Engineer</li>
      <li>Corporate Girlboss</li>
      <li>C++ Veteran</li>
      <li>Crypto Patriarch</li>
      <li>Cyberpunk Grandma</li>
      <li>Data Baron</li>
      <li>Debate Champion</li>
      <li>Deep Sea Therapist</li>
      <li>Environmental Activist</li>
      <li>Factory Patriarch</li>
      <li>Fading Diplomat</li>
      <li>Forensic Accountant</li>
      <li>French Renaissance Painter</li>
      <li>Futuristic AI Philosopher</li>
      <li>Genetic Aristocrat</li>
      <li>Gladiator Chef</li>
      <li>Golang Minimalist</li>
      <li>Grafana Guru</li>
      <li>Haskell Purist</li>
      <li>Hospital Administrator</li>
      <li>Immigration Maximalist</li>
      <li>Intelligence Officer</li>
      <li>Interdimensional Therapist</li>
      <li>Intergalactic Barista</li>
      <li>Interviewer</li>
      <li>KGB Ballerina</li>
      <li>Lisp Enlightened</li>
      <li>Master Sommelier</li>
      <li>Media Cardinal</li>
      <li>Medieval Crypto Trader</li>
      <li>Medieval Plague Doctor</li>
      <li>Memory Merchant</li>
      <li>Military Strategist</li>
      <li>Mongolian Shepherd</li>
      <li>Neural Interface Mogul</li>
      <li>Ninja Librarian</li>
      <li>Oligarch Widow</li>
      <li>Pair Programmer</li>
      <li>Pharma Patriarch</li>
      <li>Pirate Queen</li>
      <li>Poker Champion</li>
      <li>Port Master</li>
      <li>Prehistoric Foodie</li>
      <li>Quantum Financier</li>
      <li>Quantum Mechanic</li>
      <li>Quantum Physicist</li>
      <li>Renaissance Gym Bro</li>
      <li>Renaissance SoundCloud Rapper</li>
      <li>Revolutionary Hacker</li>
      <li>Rust Evangelist</li>
      <li>Southern Grandma</li>
      <li>Space Exploration Robot</li>
      <li>Space Industrialist</li>
      <li>Stoic Philosopher</li>
      <li>Stone Age Tech Support</li>
      <li>Synthetic Food Baron</li>
      <li>Time Traveling Influencer</li>
      <li>Underground Banker</li>
      <li>Urban Mining Tycoon</li>
      <li>Vatican Cybersecurity Officer</li>
      <li>Victorian Etiquette Coach</li>
      <li>Victorian Serial Killer</li>
      <li>War Correspondent</li>
      <li>Waste Baron</li>
      <li>Water Merchant</li>
    </ul>
  </Accordion>
</Accordions>

## joinSpeakingMeeting

Sends an AI speaking bot to join a video meeting with voice AI capabilities.

### Parameters

- `meetingUrl` (string): URL of the meeting to join
- `botName` (string): Name to display for the bot in the meeting
- `meetingBaasApiKey` (string): Your MeetingBaas API key for authentication
- `personas` (string[], optional): List of persona names to use (first available will be selected)
- `botImage` (string, optional): URL of the image to use for the bot
- `entryMessage` (string, optional): Message to send when joining the meeting
- `enableTools` (boolean, optional): Whether to enable tools for the bot (defaults to true)
- `extra` (object, optional): Custom data to attach to the bot

### Example

```typescript
const response = await server.tools.joinSpeakingMeeting({
  meetingUrl: 'https://meet.example.com/123',
  botName: 'AI Assistant',
  meetingBaasApiKey: 'your-api-key',
  personas: ['pair_programmer', 'tech_support'],
  botImage: 'https://example.com/bot-avatar.png',
  entryMessage: "Hello! I'm here to assist with the meeting.",
  enableTools: true,
  extra: {
    role: 'technical_assistant',
    specialization: 'code_review',
  },
});
```

### Response

```typescript
interface JoinResponse {
  content: Array<{
    type: string;
    text: string; // Contains the bot ID
  }>;
  isError?: boolean;
}
```

## leaveSpeakingMeeting

Removes a speaking bot from a meeting using its ID.

### Parameters

- `botId` (string): The MeetingBaas bot ID to remove from the meeting
- `meetingBaasApiKey` (string): Your MeetingBaas API key for authentication

### Example

```typescript
const response = await server.tools.leaveSpeakingMeeting({
  botId: 'bot-123-xyz',
  meetingBaasApiKey: 'your-api-key',
});
```

## Error Handling

Both tools implement comprehensive error handling:

```typescript
try {
  const response = await server.tools.speakingBotOperation(params);
  // Handle success
} catch (error) {
  console.error('Speaking bot operation failed:', error);
  // Handle error appropriately
}
```

## Best Practices

1. **Persona Selection**: Choose appropriate personas based on meeting context
2. **Bot Cleanup**: Always remove bots from meetings when they're no longer needed
3. **API Key Security**: Never expose your MeetingBaas API key in client-side code
4. **Error Recovery**: Implement retry logic for transient failures
5. **Resource Management**: Monitor active speaking bots to avoid resource conflicts

## Integration Example

Here's a complete example of integrating speaking bot tools:

```typescript
import { McpServer } from '@modelcontextprotocol/sdk/server/mcp';
import axios from 'axios';

const SPEAKING_API_URL = 'https://speaking.meetingbaas.com';

// Initialize server
const server = new McpServer();

// Register speaking bot tools
registerJoinSpeakingTool(server);

// Example usage
async function manageSpeakingBot() {
  try {
    // Join meeting
    const joinResponse = await server.tools.joinSpeakingMeeting({
      meetingUrl: 'https://meet.example.com/123',
      botName: 'AI Assistant',
      meetingBaasApiKey: process.env.MEETING_BAAS_API_KEY,
      personas: ['pair_programmer'],
      entryMessage: 'Ready to assist with the meeting!',
    });

    const botId = joinResponse.content[0].text.split(': ')[1];

    // Later, leave the meeting
    await server.tools.leaveSpeakingMeeting({
      botId,
      meetingBaasApiKey: process.env.MEETING_BAAS_API_KEY,
    });
  } catch (error) {
    console.error('Bot management failed:', error);
  }
}
```

## API Endpoints

The speaking bot tools interact with the following endpoints:

- **Create Bot**: `POST ${SPEAKING_API_URL}/bots`
- **Remove Bot**: `DELETE ${SPEAKING_API_URL}/bots/{botId}`

## Response Types

### Success Response

```json
{
  "content": [
    {
      "type": "text",
      "text": "Successfully joined meeting with speaking bot ID: bot-123-xyz"
    }
  ]
}
```

### Error Response

```json
{
  "content": [
    {
      "type": "text",
      "text": "Failed to join meeting with speaking bot: Invalid meeting URL"
    }
  ],
  "isError": true
}
```
