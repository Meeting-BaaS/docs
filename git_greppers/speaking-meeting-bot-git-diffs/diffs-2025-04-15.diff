#KEY#DATE# 2025-04-15
#KEY#MAX_DIFF_LINES# 100
#KEY#EXCLUDES# pnpm.lock, TypeScript build files, Rust build files

#KEY#START_COMMIT#
=================================================================
#KEY#COMMIT_HASH# 7052fc1eab3d481e8baa5d1ab944a1ae149290ce
#KEY#COMMIT_DATE# 2025-04-15 18:59:38 +0200
#KEY#COMMIT_AUTHOR# Lazare Rossillon
#KEY#COMMIT_MESSAGE# Merge pull request #10 from Meeting-Baas/API-ification
#KEY#RELATED_PR_MR# GitHub PR #10 (https://github.com/Meeting-Baas/speaking-meeting-bot/pull/10)

#KEY#CHANGED_FILES#
- kingston1_test.fio
- kingston2_test.fio

#KEY#PR_MR_COMMENTS#
PR COMMENTS:
<!-- This is an auto-generated comment: summarize by coderabbit.ai -->
<!-- walkthrough_start -->

## Summary by CodeRabbit

- **New Features**
  - Introduced a robust API-first architecture for managing meeting bots, including HTTP and WebSocket endpoints for real-time communication.
  - Added support for multiple bots, persona selection, and real-time audio streaming via WebSockets.
  - Provided new utilities for ngrok tunnel management and URL conversion to streamline local development and deployment.
  - Implemented new deployment configuration for Fly.io.

- **Bug Fixes**
  - Improved error handling and validation throughout the API and bot lifecycle.

- **Documentation**
  - Extensively updated and restructured README with detailed API usage, setup, local development, deployment, and troubleshooting instructions.
  - Updated environment variable documentation and configuration examples.
  - Added and updated configuration files for Docker and ngrok.

- **Refactor**
  - Replaced legacy CLI and subprocess-based bot management with an asynchronous, modular pipeline architecture.
  - Modularized codebase with clear separation of API, core logic, utilities, and deployment scripts.

- **Chores**
  - Added and updated dependencies to support FastAPI, WebSockets, and deployment.
  - Cleaned up obsolete scripts and configuration files.

- **Revert**
  - Removed deprecated bot, proxy, and batch management scripts in favor of the new API-driven approach.
## Summary by CodeRabbit

- **New Features**
  - Introduced a robust API-first architecture for managing meeting bots, including HTTP and WebSocket endpoints for bot lifecycle and real-time audio streaming.
  - Added FastAPI server with OpenAPI schema, CORS support, and detailed API documentation.
  - Implemented ngrok integration for local development with automatic WebSocket URL assignment and management.
  - Provided new utilities for process management, ngrok tunnel handling, and URL conversion.

- **Improvements**
  - Enhanced persona management, error handling, and logging throughout the application.
  - Upgraded dependencies and streamlined Dockerfile for a lighter, more modern runtime.
  - Added a comprehensive README with updated installation, configuration, API usage, and troubleshooting instructions.

- **Bug Fixes**
  - Improved resource cleanup and error handling for subprocesses and WebSocket connections.

- **Refactor**
  - Replaced CLI and subprocess-based bot management with a modular, asynchronous API-driven design.
  - Removed legacy scripts and proxy modules in favor of integrated FastAPI and Pipecat pipeline management.

- **Chores**
  - Added `.dockerignore` and Fly.io deployment configuration for cleaner builds and cloud deployment.
  - Updated environment variable examples and cleaned up obsolete TODOs.

- **Documentation**
  - Expanded and restructured documentation for clearer onboarding and future development plans.

## Walkthrough

This update introduces a comprehensive API-first architecture for managing speaking meeting bots, replacing previous CLI and subprocess-based approaches. A FastAPI server is implemented with typed Pydantic models, HTTP and WebSocket endpoints, and robust lifecycle management for bots and their subprocesses. The codebase is modularized into core components for connection, process, and message routing, with utilities for ngrok tunnel management and URL conversion. The Dockerfile and deployment configurations are modernized, and the README is rewritten to document the new API-driven workflow. Legacy scripts for bot and proxy management are removed, and the meeting bot runner is refactored into an asynchronous pipeline using Pipecat components.

## Changes

| Files / Groups                                         | Change Summary |
|-------------------------------------------------------|----------------|
| `.dockerignore`, `fly.toml`, `.env.example`, `Dockerfile`, `pyproject.toml` | Added/updated Docker, environment, and deployment configs for modern Python, Poetry, Fly.io, and API server. |
| `README.md`                                           | Completely rewritten to describe the new API-first architecture, endpoints, workflows, and deployment instructions. |
| `TODO.md`                                             | Deleted legacy TODO file. |
| `app/__init__.py`, `app/main.py`, `app/models.py`, `app/routes.py`, `app/websockets.py` | Introduced FastAPI application with HTTP and WebSocket endpoints, data models, and server startup logic. |
| `core/__init__.py`, `core/connection.py`, `core/converter.py`, `core/process.py`, `core/router.py` | New core modules for connection management, audio/protobuf conversion, Pipecat subprocess control, and message routing. |
| `utils/__init__.py`, `utils/ngrok.py`, `utils/process.py`, `utils/url.py` | New utility modules for ngrok management, process termination, and URL conversion. |
| `scripts/meetingbaas.py`                              | Refactored from synchronous CLI to async Pipecat pipeline runner with persona, STT, TTS, and tool integration. |
| `scripts/meetingbaas_api.py`                          | New module to interact with MeetingBaas API for bot creation and removal, with structured Pydantic models. |
| `meetingbaas_pipecat/bot/bot.py`, `meetingbaas_pipecat/bot/runner.py`, `meetingbaas_pipecat/proxy/proxy.py`, `meetingbaas_pipecat/proxy/proxy.py.rej`, `meetingbaas_pipecat/proxy/runner.py`, `scripts/batch.py` | Deleted legacy bot, proxy, and batch management scripts. |
| `protobufs/frames_pb2.py`                             | Minor formatting changes to generated protobuf code; no logic changes. |

## Sequence Diagram(s)

```mermaid
sequenceDiagram
    participant Client
    participant API_Server
    participant MeetingBaas
    participant Pipecat
    participant ngrok

    Client->>API_Server: POST /bots (BotRequest)
    API_Server->>ngrok: (If local dev) Assign ngrok URL
    API_Server->>MeetingBaas: Create Meeting Bot (with WebSocket URL)
    MeetingBaas-->>API_Server: Bot ID
    API_Server-->>Client: JoinResponse (bot_id)

    Client->>API_Server: WebSocket /ws/{client_id}
    API_Server->>Pipecat: Start subprocess & WebSocket /pipecat/{client_id}
    Pipecat-->>API_Server: WebSocket connected

    Client-->>API_Server: Audio/Text via WebSocket
    API_Server-->>Pipecat: Forward data
    Pipecat-->>API_Server: Audio/Text response
    API_Server-->>Client: Forward response

    Client->>API_Server: DELETE /bots/{bot_id}
    API_Server->>MeetingBaas: Remove bot
    API_Server->>Pipecat: Terminate subprocess
    API_Server-->>Client: LeaveResponse
```

## Poem

> 🐇  
> A bot hops in, the API calls,  
> WebSockets hum within the halls.  
> ngrok tunnels burrow deep,  
> FastAPI wakes from restful sleep.  
> Old scripts rest, their work now done,  
> Modular code—new era begun!  
> The meeting bots, with voices clear,  
> Thank the devs and twitch an ear.  
>

<!-- walkthrough_end -->
<!-- internal state start -->


<!-- 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 -->

<!-- internal state end -->
<!-- finishing_touch_checkbox_start -->

<details>
<summary>✨ Finishing Touches</summary>

- [ ] <!-- {"checkboxId": "7962f53c-55bc-4827-bfbf-6a18da830691"} --> 📝 Generate Docstrings

</details>

<!-- finishing_touch_checkbox_end -->
<!-- tips_start -->

---



<details>
<summary>🪧 Tips</summary>

### Chat

There are 3 ways to chat with [CodeRabbit](https://coderabbit.ai?utm_source=oss&utm_medium=github&utm_campaign=Meeting-Baas/speaking-meeting-bot&utm_content=10):

- Review comments: Directly reply to a review comment made by CodeRabbit. Example:
  - `I pushed a fix in commit <commit_id>, please review it.`
  - `Generate unit testing code for this file.`
  - `Open a follow-up GitHub issue for this discussion.`
- Files and specific lines of code (under the "Files changed" tab): Tag `@coderabbitai` in a new review comment at the desired location with your query. Examples:
  - `@coderabbitai generate unit testing code for this file.`
  -	`@coderabbitai modularize this function.`
- PR comments: Tag `@coderabbitai` in a new PR comment to ask questions about the PR branch. For the best results, please provide a very specific query, as very limited context is provided in this mode. Examples:
  - `@coderabbitai gather interesting stats about this repository and render them as a table. Additionally, render a pie chart showing the language distribution in the codebase.`
  - `@coderabbitai read src/utils.ts and generate unit testing code.`
  - `@coderabbitai read the files in the src/scheduler package and generate a class diagram using mermaid and a README in the markdown format.`
  - `@coderabbitai help me debug CodeRabbit configuration file.`

Note: Be mindful of the bot's finite context window. It's strongly recommended to break down tasks such as reading entire modules into smaller chunks. For a focused discussion, use review comments to chat about specific files and their changes, instead of using the PR comments.

### CodeRabbit Commands (Invoked using PR comments)

- `@coderabbitai pause` to pause the reviews on a PR.
- `@coderabbitai resume` to resume the paused reviews.
- `@coderabbitai review` to trigger an incremental review. This is useful when automatic reviews are disabled for the repository.
- `@coderabbitai full review` to do a full review from scratch and review all the files again.
- `@coderabbitai summary` to regenerate the summary of the PR.
- `@coderabbitai generate docstrings` to [generate docstrings](https://docs.coderabbit.ai/finishing-touches/docstrings) for this PR.
- `@coderabbitai resolve` resolve all the CodeRabbit review comments.
- `@coderabbitai configuration` to show the current CodeRabbit configuration for the repository.
- `@coderabbitai help` to get help.

### Other keywords and placeholders

- Add `@coderabbitai ignore` anywhere in the PR description to prevent this PR from being reviewed.
- Add `@coderabbitai summary` to generate the high-level summary at a specific location in the PR description.
- Add `@coderabbitai` anywhere in the PR title to generate the title automatically.

### CodeRabbit Configuration File (`.coderabbit.yaml`)

- You can programmatically configure CodeRabbit by adding a `.coderabbit.yaml` file to the root of your repository.
- Please see the [configuration documentation](https://docs.coderabbit.ai/guides/configure-coderabbit) for more information.
- If your editor has YAML language server enabled, you can add the path at the top of this file to enable auto-completion and validation: `# yaml-language-server: $schema=https://coderabbit.ai/integrations/schema.v2.json`

### Documentation and Community

- Visit our [Documentation](https://docs.coderabbit.ai) for detailed information on how to use CodeRabbit.
- Join our [Discord Community](http://discord.gg/coderabbit) to get help, request features, and share feedback.
- Follow us on [X/Twitter](https://twitter.com/coderabbitai) for updates and announcements.

</details>

<!-- tips_end -->

PR REVIEWS:
**Actionable comments posted: 42**

<details>
<summary>📜 Review details</summary>

**Configuration used: CodeRabbit UI**
**Review profile: ASSERTIVE**
**Plan: Pro**

<details>
<summary>📥 Commits</summary>

Reviewing files that changed from the base of the PR and between 583e807fc65970b9fa89c3073489a60793d8e040 and e46ff89c2633de8148f4c44c7c3e6eabf731a4f1.

</details>

<details>
<summary>⛔ Files ignored due to path filters (1)</summary>

* `poetry.lock` is excluded by `!**/*.lock`

</details>

<details>
<summary>📒 Files selected for processing (30)</summary>

* `.dockerignore` (1 hunks)
* `.env.example` (1 hunks)
* `Dockerfile` (1 hunks)
* `README.md` (5 hunks)
* `TODO.md` (0 hunks)
* `app/__init__.py` (1 hunks)
* `app/main.py` (1 hunks)
* `app/models.py` (1 hunks)
* `app/routes.py` (1 hunks)
* `app/websockets.py` (1 hunks)
* `core/__init__.py` (1 hunks)
* `core/connection.py` (1 hunks)
* `core/converter.py` (1 hunks)
* `core/process.py` (1 hunks)
* `core/router.py` (1 hunks)
* `fly.toml` (1 hunks)
* `meetingbaas_pipecat/bot/bot.py` (0 hunks)
* `meetingbaas_pipecat/bot/runner.py` (0 hunks)
* `meetingbaas_pipecat/proxy/proxy.py` (0 hunks)
* `meetingbaas_pipecat/proxy/proxy.py.rej` (0 hunks)
* `meetingbaas_pipecat/proxy/runner.py` (0 hunks)
* `protobufs/frames_pb2.py` (1 hunks)
* `pyproject.toml` (1 hunks)
* `scripts/batch.py` (0 hunks)
* `scripts/meetingbaas.py` (1 hunks)
* `scripts/meetingbaas_api.py` (1 hunks)
* `utils/__init__.py` (1 hunks)
* `utils/ngrok.py` (1 hunks)
* `utils/process.py` (1 hunks)
* `utils/url.py` (1 hunks)

</details>

<details>
<summary>💤 Files with no reviewable changes (7)</summary>

* TODO.md
* meetingbaas_pipecat/proxy/proxy.py.rej
* meetingbaas_pipecat/proxy/runner.py
* meetingbaas_pipecat/bot/runner.py
* meetingbaas_pipecat/proxy/proxy.py
* scripts/batch.py
* meetingbaas_pipecat/bot/bot.py

</details>

<details>
<summary>🧰 Additional context used</summary>

<details>
<summary>🧬 Code Graph Analysis (4)</summary>

<details>
<summary>app/__init__.py (1)</summary><blockquote>

<details>
<summary>app/main.py (1)</summary>

* `create_app` (28-126)

</details>

</blockquote></details>
<details>
<summary>core/process.py (1)</summary><blockquote>

<details>
<summary>config/persona_utils.py (1)</summary>

* `get_persona` (225-273)

</details>

</blockquote></details>
<details>
<summary>utils/ngrok.py (1)</summary><blockquote>

<details>
<summary>utils/url.py (1)</summary>

* `convert_http_to_ws_url` (4-18)

</details>

</blockquote></details>
<details>
<summary>app/routes.py (7)</summary><blockquote>

<details>
<summary>app/models.py (3)</summary>

* `BotRequest` (8-41)
* `JoinResponse` (44-50)
* `LeaveBotRequest` (59-68)

</details>
<details>
<summary>core/process.py (2)</summary>

* `start_pipecat_process` (13-75)
* `terminate_process_gracefully` (78-117)

</details>
<details>
<summary>scripts/meetingbaas_api.py (2)</summary>

* `create_meeting_bot` (89-208)
* `leave_meeting_bot` (211-241)

</details>
<details>
<summary>utils/ngrok.py (4)</summary>

* `determine_websocket_url` (204-280)
* `log_ngrok_status` (283-314)
* `release_ngrok_url` (170-181)
* `update_ngrok_client_id` (184-201)

</details>
<details>
<summary>core/converter.py (1)</summary>

* `set_sample_rate` (17-20)

</details>
<details>
<summary>core/router.py (1)</summary>

* `mark_closing` (17-20)

</details>
<details>
<summary>core/connection.py (1)</summary>

* `disconnect` (39-69)

</details>

</blockquote></details>

</details><details>
<summary>🪛 Hadolint (2.12.0)</summary>

<details>
<summary>Dockerfile</summary>

[warning] 6-6: Pin versions in apt get install. Instead of `apt-get install <package>` use `apt-get install <package>=<version>`

(DL3008)

---

[info] 6-6: Avoid additional packages by specifying `--no-install-recommends`

(DL3015)

---

[warning] 13-13: Set the SHELL option -o pipefail before RUN with a pipe in it. If you are using /bin/sh in an alpine image or if your shell is symlinked to busybox then consider explicitly setting your SHELL to /bin/ash, or disable this check

(DL4006)

</details>

</details>
<details>
<summary>🪛 Ruff (0.8.2)</summary>

<details>
<summary>protobufs/frames_pb2.py</summary>

22-22: Avoid equality comparisons to `False`; use `if not _descriptor._USE_C_DESCRIPTORS:` for false checks

Replace with `not _descriptor._USE_C_DESCRIPTORS`

(E712)

</details>
<details>
<summary>utils/process.py</summary>

5-5: `typing.Optional` imported but unused

Remove unused import: `typing.Optional`

(F401)

---

47-47: Do not use bare `except`

(E722)

</details>
<details>
<summary>app/models.py</summary>

5-5: `pydantic.HttpUrl` imported but unused

Remove unused import: `pydantic.HttpUrl`

(F401)

</details>
<details>
<summary>app/websockets.py</summary>

3-3: `asyncio` imported but unused

Remove unused import: `asyncio`

(F401)

</details>
<details>
<summary>core/process.py</summary>

7-7: `typing.Optional` imported but unused

Remove unused import: `typing.Optional`

(F401)

---

115-115: Do not use bare `except`

(E722)

</details>
<details>
<summary>core/connection.py</summary>

4-4: `typing.List` imported but unused

Remove unused import: `typing.List`

(F401)

</details>
<details>
<summary>app/routes.py</summary>

5-5: `typing.List` imported but unused

Remove unused import

(F401)

---

5-5: `typing.Optional` imported but unused

Remove unused import

(F401)

---

5-5: `typing.Tuple` imported but unused

Remove unused import

(F401)

---

7-7: `fastapi.HTTPException` imported but unused

Remove unused import: `fastapi.HTTPException`

(F401)

---

9-9: `pydantic.BaseModel` imported but unused

Remove unused import

(F401)

---

9-9: `pydantic.Field` imported but unused

Remove unused import

(F401)

---

9-9: `pydantic.HttpUrl` imported but unused

Remove unused import

(F401)

---

14-14: `core.process.start_pipecat_process` imported but unused

Remove unused import: `core.process.start_pipecat_process`

(F401)

</details>
<details>
<summary>app/main.py</summary>

7-7: `typing.Dict` imported but unused

Remove unused import

(F401)

---

7-7: `typing.List` imported but unused

Remove unused import

(F401)

---

7-7: `typing.Optional` imported but unused

Remove unused import

(F401)

---

7-7: `typing.Tuple` imported but unused

Remove unused import

(F401)

---

9-9: `uvicorn` imported but unused

Remove unused import: `uvicorn`

(F401)

---

17-17: `utils.ngrok.LOCAL_DEV_MODE` imported but unused

Remove unused import

(F401)

---

17-17: `utils.ngrok.NGROK_URL_INDEX` imported but unused

Remove unused import

(F401)

---

17-17: `utils.ngrok.NGROK_URLS` imported but unused

Remove unused import

(F401)

---

132-132: Redefinition of unused `NGROK_URLS` from line 17

(F811)

---

133-133: Redefinition of unused `NGROK_URL_INDEX` from line 17

(F811)

---

136-136: Redefinition of unused `LOCAL_DEV_MODE` from line 17

(F811)

---

136-136: Local variable `LOCAL_DEV_MODE` is assigned to but never used

Remove assignment to unused variable `LOCAL_DEV_MODE`

(F841)

---

139-139: Local variable `NGROK_URL_INDEX` is assigned to but never used

Remove assignment to unused variable `NGROK_URL_INDEX`

(F841)

</details>
<details>
<summary>scripts/meetingbaas.py</summary>

3-3: `logging` imported but unused

Remove unused import: `logging`

(F401)

</details>
<details>
<summary>scripts/meetingbaas_api.py</summary>

4-4: `typing.List` imported but unused

Remove unused import

(F401)

---

4-4: `typing.Union` imported but unused

Remove unused import

(F401)

---

7-7: `pydantic.HttpUrl` imported but unused

Remove unused import: `pydantic.HttpUrl`

(F401)

</details>

</details>
<details>
<summary>🪛 LanguageTool</summary>

<details>
<summary>README.md</summary>

[uncategorized] ~98-~98: A punctuation mark might be missing here.
Context: ...nAI](https://platform.openai.com/) (LLM) - [Cartesia](https://www.cartesia.ai/) (tex...

(AI_EN_LECTOR_MISSING_PUNCTUATION)

---

[uncategorized] ~342-~342: A period might be missing here.
Context: ...nnection and allow your bot to join the meeting  This is a normal occurrence and can be...

(AI_EN_LECTOR_MISSING_PUNCTUATION_PERIOD)

---

[style] ~344-~344: Consider replacing this word to strengthen your wording.
Context: ...he meeting  This is a normal occurrence and can be easily resolved with a quick bot...

(AND_THAT)

---

[uncategorized] ~432-~432: If this is a compound adjective that modifies the following noun, use a hyphen.
Context: ...- Authentication and authorization    - Rate limiting    - User management    - Billing integ...

(EN_COMPOUND_ADJECTIVE_INTERNAL)

</details>

</details>
<details>
<summary>🪛 markdownlint-cli2 (0.17.2)</summary>

<details>
<summary>README.md</summary>

220-220: Fenced code blocks should have a language specified
null

(MD040, fenced-code-language)

---

302-302: Fenced code blocks should have a language specified
null

(MD040, fenced-code-language)

</details>

</details>

</details>

<details>
<summary>🔇 Additional comments (22)</summary><blockquote>

<details>
<summary>.env.example (1)</summary>

`47-51`: **Addition of `BASE_URL` is clear and well-documented.**

The new `BASE_URL` variable and its documentation are appropriate and align with the updated API/WebSocket architecture. No issues found.

</details>
<details>
<summary>.dockerignore (1)</summary>

`1-15`: **.dockerignore is well-constructed and follows best practices.**

All relevant files and directories are excluded from the Docker build context. No issues found.

</details>
<details>
<summary>fly.toml (1)</summary>

`1-25`: **Fly.io configuration is clear and consistent.**

The deployment settings are appropriate for the API server and follow Fly.io best practices. No issues found.

</details>
<details>
<summary>utils/__init__.py (1)</summary>

`1-1`: **Module docstring is appropriate.**

The utils package initializer is clear and follows conventions. No issues found.

</details>
<details>
<summary>core/__init__.py (1)</summary>

`1-1`: **Module docstring is appropriate.**

The core package initializer is clear and follows conventions. No issues found.

</details>
<details>
<summary>utils/process.py (1)</summary>

`10-42`: **Well-implemented process termination with graceful fallback**

This function correctly implements a robust pattern for subprocess termination by trying a graceful SIGTERM first, waiting for the process to exit, and falling back to SIGKILL if needed.

</details>
<details>
<summary>core/converter.py (1)</summary>

`49-50`: **LGTM: Singleton pattern implementation.**

The use of a singleton instance is appropriate here to ensure consistent configuration across the application.

</details>
<details>
<summary>core/router.py (4)</summary>

`8-21`: **Well-structured class with clear responsibility.**

The MessageRouter class properly encapsulates all message routing functionality with good separation of concerns. The closing_clients set is a nice touch to prevent sending messages to clients that are in the process of disconnecting.

---

`22-35`: **Thorough error handling for binary message delivery.**

The send_binary method includes proper client validation, error handling, and debug logging. This will make troubleshooting connection issues much easier.

---

`62-87`: **Good approach for handling connection closure in audio frame forwarding.**

The send_to_pipecat method properly checks for connection closure conditions in the exception message and marks clients as closing when needed. This prevents unnecessary errors and helps clean up resources.

---

`116-117`: **Singleton pattern is appropriate here.**

Creating a singleton instance at the module level is a good approach for this router that needs to be accessed from multiple places in the application.

</details>
<details>
<summary>core/connection.py (4)</summary>

`10-16`: **Well-structured global state with type hints.**

The global dictionaries for meeting details and Pipecat processes are properly typed and documented. The tuple type hint for MEETING_DETAILS clearly indicates the structure of stored data.

---

`19-26`: **Clean class design for connection registry.**

The ConnectionRegistry class has a clear responsibility and well-designed internal state. The separation between active_connections and pipecat_connections makes the code more maintainable.

---

`39-70`: **Excellent error handling in disconnect method.**

The disconnect method has robust error handling that:
1. Removes connections from dictionaries before attempting to close
2. Catches and handles exceptions during WebSocket closure
3. Provides descriptive log messages

This approach prevents connection closure failures from affecting application state.

---

`80-81`: **Singleton pattern is appropriate here.**

Using a singleton instance of the ConnectionRegistry allows for centralized connection management throughout the application.

</details>
<details>
<summary>core/process.py (1)</summary>

`13-47`: **Good approach for persona data retrieval and parameter handling.**

The function properly retrieves persona data and uses the display name from the persona instead of the folder name. The detailed docstring and parameter handling are well-implemented.

</details>
<details>
<summary>app/models.py (1)</summary>

`29-41`: **Well-structured example schema.**

The json_schema_extra provides a clear example of how to use the API, which is excellent for documentation.

</details>
<details>
<summary>app/websockets.py (1)</summary>

`67-80`: **Consider handling additional message types in your receive loop.**

Currently, you handle messages with `"bytes"` or `"text"`. If the framework emits other message types (e.g., `{"type": "ping"}`), you might encounter unexpected behavior or exceptions. It could be helpful to validate and gracefully handle them to ensure robust WebSocket communication.

</details>
<details>
<summary>pyproject.toml (3)</summary>

`20-20`: **LGTM: Appropriate pipecat-ai upgrade with expanded extras**

The upgrade to pipecat-ai version 0.0.63 with the added "daily" extra is aligned with the API-first architecture being implemented.

---

`26-32`: **Well-selected dependencies with appropriate version constraints**

The added dependencies support the FastAPI-based API server architecture:
- `fastapi` and `uvicorn` for the API server
- `websockets` for WebSocket communication
- `pyyaml` for configuration
- `requests` for HTTP client functionality
- `daily` for integration with the Daily meeting platform
- `replicate` likely for AI model inference

The version constraints follow good practices, pinning major/minor versions while allowing patch updates for most dependencies.

---

`36-36`: **LGTM: Helpful development dependency**

Adding `ipdb` as a development dependency provides an enhanced debugging experience.

</details>
<details>
<summary>app/__init__.py (1)</summary>

`11-12`: **LGTM: Good pattern for lazy app initialization**

This pattern of initializing the app at module level but only after import is a good practice. It allows the app to be imported directly for ASGI servers and testing while avoiding circular imports and premature initialization.

</details>

</blockquote></details>

</details>

<!-- This is an auto-generated comment by CodeRabbit for review status -->
**Actionable comments posted: 3**

<details>
<summary>♻️ Duplicate comments (8)</summary><blockquote>

<details>
<summary>core/process.py (3)</summary><blockquote>

`7-7`: **Remove the unused `Optional` import.**

This import is never used in the file and should be removed to avoid lint warnings and maintain a clean codebase.

```diff
-from typing import Optional
+# from typing import Optional  # Remove entirely if not needed
```

<details>
<summary>🧰 Tools</summary>

<details>
<summary>🪛 Ruff (0.8.2)</summary>

7-7: `typing.Optional` imported but unused

Remove unused import: `typing.Optional`

(F401)

</details>

</details>

---

`69-71`: **Consider validating process startup.**

You start the process but do not validate that it actually started successfully. Consider adding a poll check immediately after Popen to confirm the subprocess remains running.

```diff
 process = subprocess.Popen(
     command,
     env=os.environ.copy(),  # Copy the current environment
 )
+if process.poll() is not None:
+    logger.error(f"Pipecat process for client {client_id} failed to start (exit code: {process.returncode})")
+    raise RuntimeError("Failed to start Pipecat process")
```

---

`110-117`: **Replace bare `except` with a more specific exception and add logging.**

Catching all exceptions without specifying an exception type can mask issues and make debugging more difficult.

```diff
    except Exception as e:
        logger.error(f"Error terminating process: {e}")
        # Try one last time with kill
        try:
            process.kill()
-       except:
-           pass
+       except Exception as kill_error:
+           logger.error(f"Failed to kill process after termination error: {kill_error}")
        return False
```

<details>
<summary>🧰 Tools</summary>

<details>
<summary>🪛 Ruff (0.8.2)</summary>

115-115: Do not use bare `except`

(E722)

</details>

</details>

</blockquote></details>
<details>
<summary>app/websockets.py (1)</summary><blockquote>

`3-3`: **Remove the unused `asyncio` import.**

This import is not referenced anywhere and can be removed to avoid lint warnings.

```diff
-import asyncio
```

<details>
<summary>🧰 Tools</summary>

<details>
<summary>🪛 Ruff (0.8.2)</summary>

3-3: `asyncio` imported but unused

Remove unused import: `asyncio`

(F401)

</details>

</details>

</blockquote></details>
<details>
<summary>app/routes.py (3)</summary><blockquote>

`3-9`: **Remove unused imports.**

Multiple imports (`List`, `Optional`, `Tuple`, `HTTPException`, `BaseModel`, `Field`, `HttpUrl`, and `start_pipecat_process`) are not used in this file and can be safely removed to keep the code clean.

```diff
3  import asyncio
4  import uuid
5 -from typing import Any, Dict, List, Optional, Tuple
  +from typing import Any, Dict
6  
7 -from fastapi import APIRouter, HTTPException, Request, status
7 +from fastapi import APIRouter, Request, status
8  from fastapi.responses import JSONResponse
9 -from pydantic import BaseModel, Field, HttpUrl
...
14 -from core.process import start_pipecat_process, terminate_process_gracefully
14 +from core.process import terminate_process_gracefully
```


Also applies to: 14-14

<details>
<summary>🧰 Tools</summary>

<details>
<summary>🪛 Ruff (0.8.2)</summary>

5-5: `typing.List` imported but unused

Remove unused import

(F401)

---

5-5: `typing.Optional` imported but unused

Remove unused import

(F401)

---

5-5: `typing.Tuple` imported but unused

Remove unused import

(F401)

---

7-7: `fastapi.HTTPException` imported but unused

Remove unused import: `fastapi.HTTPException`

(F401)

---

9-9: `pydantic.BaseModel` imported but unused

Remove unused import

(F401)

---

9-9: `pydantic.Field` imported but unused

Remove unused import

(F401)

---

9-9: `pydantic.HttpUrl` imported but unused

Remove unused import

(F401)

</details>

</details>

---

`128-134`: **Use a dictionary instead of a tuple for readability and to reduce positional errors.**

Storing meeting details as a dictionary clarifies the meaning of each item, reducing the potential for accidental index mismatches.

```diff
- MEETING_DETAILS[bot_client_id] = (
-     request.meeting_url,
-     persona_name,
-     None,  # MeetingBaas bot ID will be set after creation
-     request.enable_tools,
-     streaming_audio_frequency,
- )
+ MEETING_DETAILS[bot_client_id] = {
+     "meeting_url": request.meeting_url,
+     "persona_name": persona_name,
+     "meetingbaas_bot_id": None,
+     "enable_tools": request.enable_tools,
+     "streaming_audio_frequency": streaming_audio_frequency,
+ }
```


Also applies to: 174-180

---

`247-249`: **Return an HTTP 404 when no client ID is found for the specified bot.**

This avoids silently returning a success response when the bot record does not exist.

```diff
     if not client_id:
         logger.warning(f"No client ID found for bot ID {meetingbaas_bot_id}")
+        return JSONResponse(
+            content={
+                "message": f"Bot with ID {meetingbaas_bot_id} not found",
+                "status": "error",
+            },
+            status_code=404,
+        )
```

</blockquote></details>
<details>
<summary>scripts/meetingbaas.py (1)</summary><blockquote>

`3-3`: _🧹 Nitpick (assertive)_

**Remove the unused `logging` import.**

`logging` isn't used anywhere in this file, as you rely on `configure_logger()` from another module.  


```diff
-import logging
```

<details>
<summary>🧰 Tools</summary>

<details>
<summary>🪛 Ruff (0.8.2)</summary>

3-3: `logging` imported but unused

Remove unused import: `logging`

(F401)

</details>

</details>

</blockquote></details>

</blockquote></details>

<details>
<summary>📜 Review details</summary>

**Configuration used: CodeRabbit UI**
**Review profile: ASSERTIVE**
**Plan: Pro**

<details>
<summary>📥 Commits</summary>

Reviewing files that changed from the base of the PR and between e46ff89c2633de8148f4c44c7c3e6eabf731a4f1 and 0bbaec802d39c363f664a71395484510e4252020.

</details>

<details>
<summary>📒 Files selected for processing (5)</summary>

* `app/routes.py` (1 hunks)
* `app/websockets.py` (1 hunks)
* `core/process.py` (1 hunks)
* `scripts/meetingbaas.py` (1 hunks)
* `scripts/meetingbaas_api.py` (1 hunks)

</details>

<details>
<summary>🧰 Additional context used</summary>

<details>
<summary>🧬 Code Graph Analysis (2)</summary>

<details>
<summary>core/process.py (1)</summary><blockquote>

<details>
<summary>config/persona_utils.py (1)</summary>

* `get_persona` (225-273)

</details>

</blockquote></details>
<details>
<summary>app/routes.py (7)</summary><blockquote>

<details>
<summary>app/models.py (3)</summary>

* `BotRequest` (8-41)
* `JoinResponse` (44-50)
* `LeaveBotRequest` (59-68)

</details>
<details>
<summary>core/process.py (2)</summary>

* `start_pipecat_process` (13-75)
* `terminate_process_gracefully` (78-117)

</details>
<details>
<summary>scripts/meetingbaas_api.py (2)</summary>

* `create_meeting_bot` (89-208)
* `leave_meeting_bot` (211-241)

</details>
<details>
<summary>utils/ngrok.py (3)</summary>

* `determine_websocket_url` (204-280)
* `release_ngrok_url` (170-181)
* `update_ngrok_client_id` (184-201)

</details>
<details>
<summary>core/converter.py (1)</summary>

* `set_sample_rate` (17-20)

</details>
<details>
<summary>core/router.py (1)</summary>

* `mark_closing` (17-20)

</details>
<details>
<summary>core/connection.py (1)</summary>

* `disconnect` (39-69)

</details>

</blockquote></details>

</details><details>
<summary>🪛 Ruff (0.8.2)</summary>

<details>
<summary>core/process.py</summary>

7-7: `typing.Optional` imported but unused

Remove unused import: `typing.Optional`

(F401)

---

115-115: Do not use bare `except`

(E722)

</details>
<details>
<summary>app/websockets.py</summary>

3-3: `asyncio` imported but unused

Remove unused import: `asyncio`

(F401)

</details>
<details>
<summary>app/routes.py</summary>

5-5: `typing.List` imported but unused

Remove unused import

(F401)

---

5-5: `typing.Optional` imported but unused

Remove unused import

(F401)

---

5-5: `typing.Tuple` imported but unused

Remove unused import

(F401)

---

7-7: `fastapi.HTTPException` imported but unused

Remove unused import: `fastapi.HTTPException`

(F401)

---

9-9: `pydantic.BaseModel` imported but unused

Remove unused import

(F401)

---

9-9: `pydantic.Field` imported but unused

Remove unused import

(F401)

---

9-9: `pydantic.HttpUrl` imported but unused

Remove unused import

(F401)

---

14-14: `core.process.start_pipecat_process` imported but unused

Remove unused import: `core.process.start_pipecat_process`

(F401)

</details>
<details>
<summary>scripts/meetingbaas.py</summary>

3-3: `logging` imported but unused

Remove unused import: `logging`

(F401)

---

131-131: Local variable `resampler` is assigned to but never used

Remove assignment to unused variable `resampler`

(F841)

---

131-131: Undefined name `BaseAudioResampler`

(F821)

</details>
<details>
<summary>scripts/meetingbaas_api.py</summary>

4-4: `typing.List` imported but unused

Remove unused import

(F401)

---

4-4: `typing.Union` imported but unused

Remove unused import

(F401)

---

7-7: `pydantic.HttpUrl` imported but unused

Remove unused import: `pydantic.HttpUrl`

(F401)

</details>

</details>

</details>

<details>
<summary>🔇 Additional comments (1)</summary><blockquote>

<details>
<summary>scripts/meetingbaas_api.py (1)</summary>

`196-196`: <details>
<summary>❓ Verification inconclusive</summary>

**Verify other success status codes.**

The code treats HTTP 200 as the only successful status code. Confirm whether the MeetingBaas API can also return other 2xx codes (e.g., 201 or 204) that indicate success but are not currently handled.

---

🏁 Script executed:

```shell
#!/bin/bash
# Description: Search for a mention of alternative success codes in the codebase or doc references.

# Searching for references to "201" or "204" in code
rg "status_code.*201|status_code.*204" 

# If no references are found, these status codes might be unhandled. 
# Please also check the official MeetingBaas documentation to confirm the exact success statuses.
```

Length of output: 175

---



</details>

**Action: Confirm and Extend Success Status Code Handling**

It appears that other parts of the codebase already account for alternative success status codes (e.g., HTTP 201 in `app/routes.py` and HTTP 204 in `config/image_uploader.py`). Please verify against the official MeetingBaas API documentation whether additional 2xx responses should be considered successful for this endpoint. If the API can return codes like 201 or 204 in addition to 200, update the condition at line 196 in `scripts/meetingbaas_api.py` (e.g., by checking if `response.status_code` is one of the valid success codes or falls within the 2xx range).

</details>

</blockquote></details>

</details>

<!-- This is an auto-generated comment by CodeRabbit for review status -->
**Actionable comments posted: 2**

<details>
<summary>📜 Review details</summary>

**Configuration used: CodeRabbit UI**
**Review profile: ASSERTIVE**
**Plan: Pro**

<details>
<summary>📥 Commits</summary>

Reviewing files that changed from the base of the PR and between 0bbaec802d39c363f664a71395484510e4252020 and 3cd512e08b197a8ba27397a07ebd37ab5cc75b72.

</details>

<details>
<summary>📒 Files selected for processing (1)</summary>

* `config/ngrok/config.yml` (1 hunks)

</details>

<details>
<summary>🧰 Additional context used</summary>

<details>
<summary>🪛 YAMLlint (1.35.1)</summary>

<details>
<summary>config/ngrok/config.yml</summary>

[error] 7-7: wrong indentation: expected 4 but found 2

(indentation)

---

[error] 8-8: wrong indentation: expected 6 but found 4

(indentation)

---

[error] 11-11: wrong indentation: expected 6 but found 4

(indentation)

</details>

</details>

</details>

</details>

<!-- This is an auto-generated comment by CodeRabbit for review status -->
**Actionable comments posted: 9**

<details>
<summary>♻️ Duplicate comments (7)</summary><blockquote>

<details>
<summary>utils/process.py (1)</summary><blockquote>

`5-5`: _🧹 Nitpick (assertive)_

**Remove unused import.**

The `Optional` type from `typing` is imported but not used anywhere in this file. Please remove it to keep the code clean.

```diff
-from typing import Optional
```

<details>
<summary>🧰 Tools</summary>

<details>
<summary>🪛 Ruff (0.8.2)</summary>

5-5: `typing.Optional` imported but unused

Remove unused import: `typing.Optional`

(F401)

</details>

</details>

</blockquote></details>
<details>
<summary>app/main.py (5)</summary><blockquote>

`7-7`: **Remove unused imports from the typing module.**

Several typing imports are not used in this file.


```diff
-from typing import Dict, List, Optional, Tuple
+from typing import Optional
```

While `Optional` is also currently unused, it may be needed in future updates.

<details>
<summary>🧰 Tools</summary>

<details>
<summary>🪛 Ruff (0.8.2)</summary>

7-7: `typing.Dict` imported but unused

Remove unused import

(F401)

---

7-7: `typing.List` imported but unused

Remove unused import

(F401)

---

7-7: `typing.Optional` imported but unused

Remove unused import

(F401)

---

7-7: `typing.Tuple` imported but unused

Remove unused import

(F401)

</details>

</details>

---

`16-16`: **Remove redundant imports from utils.ngrok.**

These imports are redundant as they're redefined within the `start_server` function.


```diff
-from utils.ngrok import LOCAL_DEV_MODE, NGROK_URL_INDEX, NGROK_URLS, load_ngrok_urls
+from utils.ngrok import load_ngrok_urls
```

<details>
<summary>🧰 Tools</summary>

<details>
<summary>🪛 Ruff (0.8.2)</summary>

16-16: `utils.ngrok.LOCAL_DEV_MODE` imported but unused

Remove unused import

(F401)

---

16-16: `utils.ngrok.NGROK_URL_INDEX` imported but unused

Remove unused import

(F401)

---

16-16: `utils.ngrok.NGROK_URLS` imported but unused

Remove unused import

(F401)

</details>

</details>

---

`75-81`: **CORS Security Advisory**

The current CORS configuration allows requests from any origin, which is acceptable for development but can pose security risks in production.


Consider implementing environment-based CORS settings:

```diff
+import os
+
 # Add CORS middleware
+allowed_origins = ["*"]
+if os.getenv("ENV") == "production":
+    allowed_origins = ["https://speaking.meetingbaas.com", "https://meetingbaas.com"]
+
 app.add_middleware(
     CORSMiddleware,
-    allow_origins=["*"],
+    allow_origins=allowed_origins,
     allow_credentials=True,
     allow_methods=["*"],
     allow_headers=["*"],
 )
```

---

`131-139`: **Fix global variable redefinition and scope issues.**

The code redefines global variables that were already imported but not used. The approach to managing these variables between module level and function level is problematic.


```diff
-    # Global variables for ngrok URL tracking
-    NGROK_URLS = []
-    NGROK_URL_INDEX = 0
-
-    # Set LOCAL_DEV_MODE based on parameter
-    LOCAL_DEV_MODE = local_dev
-
-    # Reset the ngrok URL counter when starting the server
-    NGROK_URL_INDEX = 0
+    # Import the global variables for ngrok URL tracking from utils.ngrok
+    from utils.ngrok import NGROK_URLS, NGROK_URL_INDEX, LOCAL_DEV_MODE
+    
+    # Import the module where these globals are defined
+    import utils.ngrok as ngrok
+    
+    # Update the globals in the ngrok module
+    ngrok.LOCAL_DEV_MODE = local_dev
+    ngrok.NGROK_URL_INDEX = 0
+    ngrok.NGROK_URLS = []
```

<details>
<summary>🧰 Tools</summary>

<details>
<summary>🪛 Ruff (0.8.2)</summary>

131-131: Redefinition of unused `NGROK_URLS` from line 16

(F811)

---

132-132: Redefinition of unused `NGROK_URL_INDEX` from line 16

(F811)

---

135-135: Redefinition of unused `LOCAL_DEV_MODE` from line 16

(F811)

---

135-135: Local variable `LOCAL_DEV_MODE` is assigned to but never used

Remove assignment to unused variable `LOCAL_DEV_MODE`

(F841)

---

138-138: Local variable `NGROK_URL_INDEX` is assigned to but never used

Remove assignment to unused variable `NGROK_URL_INDEX`

(F841)

</details>

</details>

---

`157-182`: **Consider using the uvicorn API instead of process replacement.**

The current implementation uses `os.execv` to replace the current process with a new uvicorn process. This approach works but is less flexible than using the uvicorn API directly.


```diff
-    # Pass the local_dev flag as a command-line argument to the uvicorn process
-    args = [
-        sys.executable,
-        "-m",
-        "uvicorn",
-        "app:app",  # Use the app from app/__init__.py
-        "--host",
-        host,
-        "--port",
-        str(port),
-    ]
-
-    if local_dev:
-        args.extend(["--reload"])
-
-        # Create a file that uvicorn will read on startup to set LOCAL_DEV_MODE
-        with open(".local_dev_mode", "w") as f:
-            f.write("true")
-    else:
-        # Make sure we don't have the flag set if not in local dev mode
-        if os.path.exists(".local_dev_mode"):
-            os.remove(".local_dev_mode")
-
-    # Use os.execv to replace the current process with uvicorn
-    # This way all arguments are directly passed to uvicorn
-    os.execv(sys.executable, args)
+    # Set up local dev mode marker
+    if local_dev:
+        with open(".local_dev_mode", "w") as f:
+            f.write("true")
+    else:
+        if os.path.exists(".local_dev_mode"):
+            os.remove(".local_dev_mode")
+
+    # Import uvicorn here to avoid unused import warning
+    import uvicorn
+    
+    # Use the uvicorn API instead of a subprocess
+    uvicorn.run(
+        "app:app",
+        host=host,
+        port=port,
+        reload=local_dev
+    )
```

</blockquote></details>
<details>
<summary>scripts/meetingbaas.py (1)</summary><blockquote>

`128-133`: _⚠️ Potential issue_

**Unused `resampler` and missing import for `BaseAudioResampler`.**  
Currently, `resampler` is neither imported nor used in the pipeline. Either remove it if unnecessary or properly import and integrate it into the pipeline if resampling is required.  

```diff
-    resampler = None
-    if output_sample_rate != vad_sample_rate:
-        resampler = BaseAudioResampler()
-        logger.info(f"Created resampler for converting {output_sample_rate}Hz to {vad_sample_rate}Hz")
```

<details>
<summary>🧰 Tools</summary>

<details>
<summary>🪛 Ruff (0.8.2)</summary>

131-131: Local variable `resampler` is assigned to but never used

Remove assignment to unused variable `resampler`

(F841)

---

131-131: Undefined name `BaseAudioResampler`

(F821)

</details>

</details>

</blockquote></details>

</blockquote></details>

<details>
<summary>📜 Review details</summary>

**Configuration used: CodeRabbit UI**
**Review profile: ASSERTIVE**
**Plan: Pro**

<details>
<summary>📥 Commits</summary>

Reviewing files that changed from the base of the PR and between 3cd512e08b197a8ba27397a07ebd37ab5cc75b72 and 9d6ba41dbcee4c0435104283c0137b48e1fbe32e.

</details>

<details>
<summary>📒 Files selected for processing (3)</summary>

* `app/main.py` (1 hunks)
* `scripts/meetingbaas.py` (1 hunks)
* `utils/process.py` (1 hunks)

</details>

<details>
<summary>🧰 Additional context used</summary>

<details>
<summary>🧬 Code Graph Analysis (1)</summary>

<details>
<summary>app/main.py (2)</summary><blockquote>

<details>
<summary>meetingbaas_pipecat/utils/logger.py (1)</summary>

* `configure_logger` (7-27)

</details>
<details>
<summary>utils/ngrok.py (1)</summary>

* `load_ngrok_urls` (41-114)

</details>

</blockquote></details>

</details><details>
<summary>🪛 Ruff (0.8.2)</summary>

<details>
<summary>utils/process.py</summary>

5-5: `typing.Optional` imported but unused

Remove unused import: `typing.Optional`

(F401)

</details>
<details>
<summary>app/main.py</summary>

7-7: `typing.Dict` imported but unused

Remove unused import

(F401)

---

7-7: `typing.List` imported but unused

Remove unused import

(F401)

---

7-7: `typing.Optional` imported but unused

Remove unused import

(F401)

---

7-7: `typing.Tuple` imported but unused

Remove unused import

(F401)

---

16-16: `utils.ngrok.LOCAL_DEV_MODE` imported but unused

Remove unused import

(F401)

---

16-16: `utils.ngrok.NGROK_URL_INDEX` imported but unused

Remove unused import

(F401)

---

16-16: `utils.ngrok.NGROK_URLS` imported but unused

Remove unused import

(F401)

---

131-131: Redefinition of unused `NGROK_URLS` from line 16

(F811)

---

132-132: Redefinition of unused `NGROK_URL_INDEX` from line 16

(F811)

---

135-135: Redefinition of unused `LOCAL_DEV_MODE` from line 16

(F811)

---

135-135: Local variable `LOCAL_DEV_MODE` is assigned to but never used

Remove assignment to unused variable `LOCAL_DEV_MODE`

(F841)

---

138-138: Local variable `NGROK_URL_INDEX` is assigned to but never used

Remove assignment to unused variable `NGROK_URL_INDEX`

(F841)

</details>
<details>
<summary>scripts/meetingbaas.py</summary>

4-4: Redefinition of unused `os` from line 3

Remove definition: `os`

(F811)

---

131-131: Local variable `resampler` is assigned to but never used

Remove assignment to unused variable `resampler`

(F841)

---

131-131: Undefined name `BaseAudioResampler`

(F821)

</details>

</details>

</details>

<details>
<summary>🔇 Additional comments (10)</summary><blockquote>

<details>
<summary>utils/process.py (1)</summary>

`10-51`: **Process termination logic is robust and well-structured.**

The `terminate_process_gracefully` function is well-designed, with clear escalation from SIGTERM to SIGKILL, appropriate logging, and thorough error handling. The docstring is clear and the function is modular for reuse.

</details>
<details>
<summary>app/main.py (7)</summary>

`9-11`: **LGTM: FastAPI imports.**

The FastAPI imports are well-organized and appropriate for the functionality implemented.

---

`13-15`: **LGTM: Router imports.**

The router imports correctly separate HTTP routes from WebSocket routes, promoting good code organization.

---

`18-24`: **LGTM: Logger configuration.**

Good use of a custom logger with appropriate naming and configuration. Setting the pipecat WebSocket client logger to WARNING level helps reduce noise in the logs.

---

`34-45`: **LGTM: FastAPI app configuration.**

The FastAPI app is well-configured with appropriate metadata, documentation URLs, and contact information.

---

`47-72`: **LGTM: Custom OpenAPI schema.**

Well-implemented custom OpenAPI schema that properly defines both production and local development servers.

---

`83-86`: **LGTM: Router inclusion.**

Both HTTP and WebSocket routers are properly included in the FastAPI application.

---

`185-196`: **LGTM: Command-line interface.**

The command-line argument parsing is well-implemented with clear help text and appropriate defaults.

</details>
<details>
<summary>scripts/meetingbaas.py (2)</summary>

`2-2`: **No issues with the `asyncio` import.**

---

`187-229`: <details>
<summary>✅ Verification successful</summary>

**Validate usage of registered function tools.**  
You’ve added schemas for `get_weather` and `get_time`. Confirm that these lines aren’t introducing unused code if the LLM rarely calls them. Consider logging or testing calls to ensure correctness.

---

🏁 Script executed:

```shell
#!/bin/bash
# Searching for direct or indirect usage of get_weather/get_time within the repo
rg -A 2 "get_weather"
rg -A 2 "get_time"
```

Length of output: 1523

---



</details>

**Action Required: Validate Registered Tools Usage and Consider Testing**

The grep results confirm that both `get_weather` and `get_time` are actively referenced and registered in `scripts/meetingbaas.py` as well as referenced in `config/prompts.py`. Therefore, the registration and schema definition are being utilized as intended.

- The asynchronous function definitions and registrations in `scripts/meetingbaas.py` are in use.
- The configuration in `config/prompts.py` confirms that the tools are exposed to the LLM.

If not already in place, please consider adding unit or integration tests that simulate LLM interactions with these tools to ensure their behavior remains correct over time.

</details>

</blockquote></details>

</details>

<!-- This is an auto-generated comment by CodeRabbit for review status -->



#KEY#DIFF_RANGE# FROM: d830cb99a24646e3c2afab3ed15d9e61328668d3 TO: 7052fc1eab3d481e8baa5d1ab944a1ae149290ce
=================================================================

#KEY#GIT_DIFF_SKIPPED# (--no-diff flag used)
#KEY#END_COMMIT#
